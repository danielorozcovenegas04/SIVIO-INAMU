@{
    Layout = null;
}
@using SIVIO.Entidades;
@model TBL_PERSONA

<style>
    .jumbotron {
        padding-left: 5px !important;
        padding-right: 5px !important;
    }

    .container {
        padding-left: 5px !important;
        padding-right: 5px !important;
    }
</style>
<script src="https://www.google.com/cloudprint/client/cpgadget.js">
</script>
<script type="text/javascript">
    var instMensajes = $('[data-remodal-id=modalDialogo]').remodal();
    $(document).ready(function () {
        PrevenirCaracteresInvalidos();
        document.title = "SIVIO - COAVIF y Equipo Estrategico";
        InicializarOtrosEventos();
        CargarDivisionTerritorial();
        $('#fechaNacimiento').hide();
        $('#checkFecha').change(function () {
            if ($(this).is(':checked')) {
                $('#fechaNacimiento').show();
                $('#edad').hide();
            } else {
                $('#fechaNacimiento').hide();
                $('#edad').show();
            }
        });

        $('#checkApatrida').change(function () {
            if ($(this).is(':checked')) {
                $('#nacionalidades').hide();
            } else {
                $('#nacionalidades').show();
            }
        });

        inicializarCampos();
        $.LoadingOverlay("hide");
    });

    function inicializarCampos() {

        @{
            if (Model.PK_PERSONA != 0)
            {
                <text>
        if ('@Model.B_CONOCEFECHANACIMIENTO' == 'True') {
            $('#checkFecha').prop('checked', true).change();
        }
        $('#cmbPersonaProvincia').val(@Model.FK_PROVINCIAPROCEDENCIA);
        $('#cmbPersonaCanton').val(@Model.FK_CANTONPROCEDENCIA);
        $('#cmbPersonaDistrito').val(@Model.FK_DISTRITOPROCEDENCIA);
        debugger;
        $('#comOtraNacionalidad').val(@Model.FK_NACIONALIDAD2);
        $('#comNacionalidad').val(@Model.FK_NACIONALIDAD);
        $('#comMigratoria').val(@Model.FK_CONDICIONMIGRATORIA);
        $('#txtNombre').val('@Model.VC_NOMBRE');
        $('#txtApellido1').val('@Model.VC_APELLIDO1');

        $('#txtApellido2').val('@Model.VC_APELLIDO2');
        @if(Model.DT_FECHANACIMIENTO != null)
        {
            <text>$('#dateNacimiento').val('@Model.DT_FECHANACIMIENTO.Value.ToString("yyyy-MM-dd")');</text>
        }
        $('#intEdad').val(@Model.I_EDAD);

        $('#intHijos').val(@Model.I_HIJOS);
        $('#intHijosMayores').val(@Model.I_HIJOSMAYORESDOCE);
        $('#txtDocId').val('@Model.VC_IDENTIFICACION');
        //----------------------------------------------------
        var personaRefiere = "@Model.VC_NOMBRE @Model.VC_APELLIDO1 @Model.VC_APELLIDO2";
        $("#txtPersonaQuienRefiere").val(personaRefiere);
        $('#txtPersonaQuienRefiere').css("background-color", "#f2f2f2");
        $("#txtPersonaQuienRefiere").prop("readonly", true);
        </text>
            }
        }

    }

    function CargarDivisionTerritorial() {
        var divisionTerritorial = JSON.parse(localStorage.getItem('divisionTerritorial'));
        $("#cmbPersonaProvincia")
            .change(function () {
                debugger;
                $('#cmbPersonaCanton').find('option').remove().end();
                $('#cmbPersonaDistrito').find('option').remove().end();
                var personaProvinciaSel = $("#cmbPersonaProvincia").val();
                for (var j = 0; j < divisionTerritorial[1].Value.length; j++) {
                    //console.log(data[0].Value[j].VC_DESCRIPCION);
                    if (divisionTerritorial[1].Value[j].I_IDPROVINCIA == personaProvinciaSel) {
                        $("#cmbPersonaCanton")
                            .append($("<option />")
                                .val(divisionTerritorial[1].Value[j].I_IDCANTON)
                                .text(divisionTerritorial[1].Value[j].VC_DESCRIPCION));
                    }

                }
                var personaCantonSel = $("#cmbPersonaCanton").val();
                for (var j = 0; j < divisionTerritorial[2].Value.length; j++) {
                    //console.log(data[0].Value[j].VC_DESCRIPCION);
                    if (divisionTerritorial[2].Value[j].I_IDCANTON == personaCantonSel &
                        divisionTerritorial[2].Value[j].I_IDPROVINCIA == personaProvinciaSel) {
                        $("#cmbPersonaDistrito")
                            .append($("<option />")
                                .val(divisionTerritorial[2].Value[j].I_IDDISTRITO)
                                .text(divisionTerritorial[2].Value[j].VC_DESCRIPCION));
                    }
                }
                var personaDistritoSel = $("#cmbPersonaDistrito").val();
                for (var j = 0; j < divisionTerritorial[2].Value.length; j++) {
                    if (divisionTerritorial[2].Value[j].I_IDPROVINCIA == personaProvinciaSel &&
                        divisionTerritorial[2].Value[j].I_IDCANTON == personaCantonSel &&
                        divisionTerritorial[2].Value[j].I_IDDISTRITO == personaDistritoSel) {
                        var distritoSeleccionado = divisionTerritorial[2].Value[j];
                        $("#cmbPersonaRegion").val(distritoSeleccionado.I_IDREGION);
                    }
                }

            });
        $("#cmbPersonaCanton")
            .change(function () {
                var personaCantonSel = $("#cmbPersonaCanton").val();
                var personaProvinciaSel = $("#cmbPersonaProvincia").val();
                $('#cmbPersonaDistrito').find('option').remove().end();
                var personaCantonSel = $("#cmbPersonaCanton").val();
                for (var j = 0; j < divisionTerritorial[2].Value.length; j++) {
                    //console.log(data[0].Value[j].VC_DESCRIPCION);
                    if (divisionTerritorial[2].Value[j].I_IDCANTON == personaCantonSel &
                        divisionTerritorial[2].Value[j].I_IDPROVINCIA == personaProvinciaSel) {
                        $("#cmbPersonaDistrito")
                            .append($("<option />")
                                .val(divisionTerritorial[2].Value[j].I_IDDISTRITO)
                                .text(divisionTerritorial[2].Value[j].VC_DESCRIPCION));
                    }
                }
                var personaDistritoSel = $("#cmbPersonaDistrito").val();
                for (var j = 0; j < divisionTerritorial[2].Value.length; j++) {
                    if (divisionTerritorial[2].Value[j].I_IDPROVINCIA == personaProvinciaSel &&
                        divisionTerritorial[2].Value[j].I_IDCANTON == personaCantonSel &&
                        divisionTerritorial[2].Value[j].I_IDDISTRITO == personaDistritoSel) {
                        var distritoSeleccionado = divisionTerritorial[2].Value[j];
                        $("#cmbPersonaRegion").val(distritoSeleccionado.I_IDREGION);
                    }
                }

            });
        $("#cmbPersonaDistrito")
            .change(function () {
                var personaCantonSel = $("#cmbPersonaCanton").val();
                var personaProvinciaSel = $("#cmbPersonaProvincia").val();
                var personaDistritoSel = $("#cmbPersonaDistrito").val();
                for (var j = 0; j < divisionTerritorial[2].Value.length; j++) {
                    if (divisionTerritorial[2].Value[j].I_IDPROVINCIA == personaProvinciaSel &&
                        divisionTerritorial[2].Value[j].I_IDCANTON == personaCantonSel &&
                        divisionTerritorial[2].Value[j].I_IDDISTRITO == personaDistritoSel) {
                        var distritoSeleccionado = divisionTerritorial[2].Value[j];
                        $("#cmbPersonaRegion").val(distritoSeleccionado.I_IDREGION);
                    }
                }

            });


        for (var j = 0; j < divisionTerritorial[0].Value.length; j++) {
            //console.log(data[0].Value[j].VC_DESCRIPCION);
            $("#cmbPersonaProvincia")
                .append($("<option />")
                    .val(divisionTerritorial[0].Value[j].I_IDPROVINCIA)
                    .text(divisionTerritorial[0].Value[j].VC_DESCRIPCION));
        }
        var empresaProvinciaSel = $("#cmbPersonaProvincia").val();
        for (var j = 0; j < divisionTerritorial[1].Value.length; j++) {
            //console.log(data[0].Value[j].VC_DESCRIPCION);
            if (divisionTerritorial[1].Value[j].I_IDPROVINCIA == empresaProvinciaSel) {
                $("#cmbPersonaCanton")
                    .append($("<option />")
                        .val(divisionTerritorial[1].Value[j].I_IDCANTON)
                        .text(divisionTerritorial[1].Value[j].VC_DESCRIPCION));
            }

        }


        var empresaCantonSel = $("#cmbPersonaCanton").val();
        for (var j = 0; j < divisionTerritorial[2].Value.length; j++) {
            //console.log(data[0].Value[j].VC_DESCRIPCION);
            if (divisionTerritorial[2].Value[j].I_IDCANTON == empresaCantonSel &
                divisionTerritorial[2].Value[j].I_IDPROVINCIA == empresaProvinciaSel) {
                $("#cmbPersonaDistrito")
                    .append($("<option />")
                        .val(divisionTerritorial[2].Value[j].I_IDDISTRITO)
                        .text(divisionTerritorial[2].Value[j].VC_DESCRIPCION));
            }

        }

        for (var j = 0; j < divisionTerritorial[3].Value.length; j++) {
            $("#cmbPersonaRegion")
                .append($("<option />").val(divisionTerritorial[3].Value[j].I_IDREGION).text(divisionTerritorial[3].Value[j].VC_DESCRIPCION));
        }

    }

    function InicializarOtrosEventos() {
        debugger;

        var d = new Date();
        var month = d.getMonth() + 1;
        var day = d.getDate();
        var fechaHoy = (day < 10 ? '0' : '') + day + '/' +
            (month < 10 ? '0' : '') + month + '/' +
            d.getFullYear();

        $("#txtFecha").val(fechaHoy);
        $('#txtFecha').css("background-color", "#f2f2f2");
        $("#txtFecha").prop("readonly", true);

        var hora = d.getHours();
        //var jornada = (hora > 12 ? 'PM' : 'AM');
        var minutos = d.getMinutes();
        //var inicio = (hora > 12 ? '0' + hora - 12 : hora) + ':' + (minutos > 9 ? '' : '0') + minutos + ' ' + jornada;
        var inicio = hora + ':' + (minutos > 9 ? '' : '0') + minutos;

        $("#txtHoraInicio").val(inicio);
        $('#txtHoraInicio').css("background-color", "#f2f2f2");
        $("#txtHoraInicio").prop("readonly", true);
        $('#txtHoraFinalizacion').css("background-color", "#f2f2f2");
        $("#txtHoraFinalizacion").prop("readonly", true);

        @if (Model.PK_PERSONA == 0) {
            <text>
            $("#btnCancelarDatosAdministrativos").hide();
            $("#btnGuardarDatosAdministrativos").hide();
            </text>
        }

        $("#btnGuardarDatosUsuaria").click(function () {
            var validacion = $('#datosUsuariaForm').parsley().validate();
            var edadPersona = $('#checkFecha').is(':checked') ? '' : $("#intEdad").val();
            var fechaPersona = $('#checkFecha').is(':checked') ? $("#dateNacimiento").val()  : '';
            //var nacionalidadPersona = $('#checkApatrida').is(':checked') ? '' :$("#comNacionalidad").val();
            //var nacionalidadPersona2 = $('#checkApatrida').is(':checked') ? '' :$("#comNacionalidad2").val();
            if (validacion === true) {
                $.ajax(
                    {
                        type: "POST",
                        url: '@Url.Action("IsertarDatosUsuaria", "Expediente")',
                        data: {
                            Pk: '@Model.PK_PERSONA',
                            Nombre: $("#txtNombre").val(),
                            Apellido1: $("#txtApellido1").val(),
                            Apellido2: $("#txtApellido2").val(),
                            Edad: edadPersona,
                            FechaNacimiento: fechaPersona, 
                            PaisProcedencia: $("#comPais").val(),
                            Telefono: $("#txtTelefono").val(),
                            OtraNacionalidad: $("#comOtraNacionalidad").val(),
                            CondicionMigratoria: $("#comMigratoria").val(),
                            NumeroHijos: $("#intHijos").val(),
                            MayorDoce: $("#intHijosMayores").val(),
                            Discapacidades: $("#comDiscapacidad").val(),
                            Identificacion: $("#txtDocId").val(),
                            ProvinciaPersona: $("#cmbPersonaProvincia").val(),
                            CantonPersona: $("#cmbPersonaCanton").val(),
                            DistritoPersona: $("#cmbPersonaDistrito").val(),
                            Nacionalidad: $("#comNacionalidad").val(),
                            Apatrida: $("#checkApatrida").val(),
                            LugarTrabajo: $("#txtLugarTrabajo").val(),
                            Embarazo: $('#comEmbarazo').val()
                        },
                        //dataType: JSON,
                        //processData: true,
                        success: function (resultado) {
                            $("#contenedorBotones").show();
                            $("#contenedorEspera").hide();
                            $("#txtModalTitulo").css("color", "green");
                            $("#txtModalTitulo").text("Operación Exitosa");
                            $("#txtModalContenido").text("Exito");
                            instMensajes.open();
                            $.LoadingOverlay("hide");
                        },
                        error: function (xhr, ajaxOptions, error) {
                            $("#contenedorBotones").show();
                            $("#contenedorEspera").hide();
                            $("#txtModalTitulo").css("color", "red");
                            $("#txtModalTitulo").text("Error al registrar");
                            $("#txtModalContenido").text("Error");
                            instMensajes.open();
                            $.LoadingOverlay("hide");
                        }
                    });
            } else {
                $("#txtModalTitulo").css("color", "red");
                $("#txtModalTitulo").text("Información Incompleta");
                $("#txtModalContenido").text("El formulario todavía tiene campos pendientes de llenar.");
                instMensajes.open();
            }
        });

        $.ajax({
            type: "POST",
            url: '@Url.Action("CargarPersonas")',
            datatype: "json",
            //contentType: "application/json",
            async: true,
            processData: true,
            success: function (resultado) {
                var respuesta = JSON.parse(resultado);
                if (respuesta.Mensaje.TipoMensaje === 1) {
                    var usuario = respuesta.usuarioNombre + ' ' + respuesta.usuarioApellido1 + ' ' + respuesta.usuarioApellido2;
                    $("#txtPersonaAtiende").val(usuario);
                    $('#txtPersonaAtiende').css("background-color", "#f2f2f2");
                    $("#txtPersonaAtiende").prop("readonly", true);

                    $("#txtCorreoUsuario").val("@HttpContext.Current.User.Identity.Name");
                    $('#txtCorreoUsuario').css("background-color", "#f2f2f2");
                    $("#txtCorreoUsuario").prop("readonly", true);

                    if (respuesta.usuarioRol != 27) {
                        //$("#cmbTipoDisponibilidad").prop("disabled", true);
                        $("#cmbTipoDisponibilidad").hide();
                        $("#lblDisponibilidad").hide();
                    }
                } else {
                    $("#txtModalTitulo").css("color", "red");
                    $("#txtModalTitulo").text("Error");
                    $("#txtModalContenido").text(respuesta.Mensaje.ContenidoMensaje);
                    instMensajes.open();
                }
            }, error: function (xhr, ajaxOptions, error) {
                $("#txtModalTitulo").css("color", "red");
                $("#txtModalTitulo").text("Error al registrar");
                $("#txtModalContenido").text("Fallo al comunicarse con el servidor");
                instMensajes.open();
            }
        })

        $.ajax({
            type: "POST",
            url: '@Url.Action("CargarCatalogos")',
            dataType: "json",
            contentType: "application/json",
            processData: true,
            success: function (resultado) {
                debugger;
                var respuesta = JSON.parse(resultado);
                if (respuesta.Mensaje.TipoMensaje === 1) {
                    $.each(respuesta.CatalogoTiposDisponibilidad, function (key, value) {
                        $('#cmbTipoDisponibilidad').append($("<option/>", {
                            value: value.PK_VALORCATALOGO,
                            text: value.VC_VALOR1
                        }));
                    });
                    $.each(respuesta.CatalogoIntitucion, function (key, value) {
                        $('#cmbInstitucionRefiere').append($("<option/>", {
                            value: value.PK_VALORCATALOGO,
                            text: value.VC_VALOR1
                        }));
                    });
                    $.each(respuesta.CatalogoNacionalidad, function (key, value) {
                        $('#comPais').append($("<option/>", {
                            value: value.PK_VALORCATALOGO,
                            text: value.VC_VALOR1
                        }));
                    });

                    $.each(respuesta.CatalogoNacionalidad, function (key, value) {
                        $('#comOtraNacionalidad').append($("<option/>", {
                            value: value.PK_VALORCATALOGO,
                            text: value.VC_VALOR1
                        }));
                    });


                    $.each(respuesta.CatalogoNacionalidad, function (key, value) {
                        $('#comNacionalidad').append($("<option/>", {
                            value: value.PK_VALORCATALOGO,
                            text: value.VC_VALOR1
                        }));
                    });

                    $.each(respuesta.CatalogoCondicionMigratoria, function (key, value) {
                        $('#comMigratoria').append($("<option/>", {
                            value: value.PK_VALORCATALOGO,
                            text: value.VC_VALOR1
                        }));
                    });


                    $.each(respuesta.CatalogoDiscapasidades, function (key, value) {
                        $('#comDiscapacidad').append($("<option/>", {
                            value: value.PK_VALORCATALOGO,
                            text: value.VC_VALOR1
                        }));
                    });

                    $.each(respuesta.CatalogoEmbarazo, function (key, value) {
                        $('#comEmbarazo').append($("<option/>", {
                            value: value.PK_VALORCATALOGO,
                            text: value.VC_VALOR1
                        }));
                    });

                } else {
                    $("#contenedorBotones").show();
                    $("#contenedorEspera").hide();
                    $("#txtModalTitulo").css("color", "red");
                    $("#txtModalTitulo").text("Error");
                    $("#txtModalContenido").text(respuesta.Mensaje.ContenidoMensaje);
                    instMensajes.open();
                    $.LoadingOverlay("hide");
                }
            },
            error: function (xhr, ajaxOptions, error) {
                $("#contenedorBotones").show();
                $("#contenedorEspera").hide();
                $("#txtModalTitulo").css("color", "red");
                $("#txtModalTitulo").text("Error al registrar");
                $("#txtModalContenido").text("Fallo al comunicarse con el servidor");
                instMensajes.open();
                $.LoadingOverlay("hide");

            }
        });

        $('#btnCancelarDatosAdministrativos').click(function () {
            //window.location.href = 'Url.Action("Index", "Home")';
            $.LoadingOverlay("show");
            $.ajax({
                type: "POST",
                url: '@Url.Action("BusquedaExpedienteCoavif", "Expediente")',
                async: true
            }).done(function (data) {
                $.LoadingOverlay("hide");
                $('#contendorFrames').html(data);
                $("#contenedorEspera").hide();
                $('#contendorFrames').fadeIn();
            }).fail(function (exception) {
                $("#txtModalTitulo").css("color", "red");
                $("#txtModalTitulo").text("Error de Sistema");
                $("#txtModalContenido").text("Fallo al cargar la pantalla, contacte a la persona administradora de SIPAMU");
                $("#contenedorEspera").hide();
                instMensajes.open();
                $.LoadingOverlay("hide");
            });
        });

        $("#btnGuardarDatosAdministrativos").click(function () {
            if(@Model.PK_PERSONA != 0){
                if($("#txtTelefonoUsuario").val() == ""){
                    $("#contenedorBotones").show();
                    $("#contenedorEspera").hide();
                    $("#txtModalTitulo").css("color", "red");
                    $("#txtModalTitulo").text("No ha ingresado telefono");
                    $("#txtModalContenido").text("No se ha ingresado el telefono utilizado por la usuaria que atiende");
                    instMensajes.open();
                    $.LoadingOverlay("hide");
                }else{
                    $.ajax({
                        type: "POST",
                        url: '@Url.Action("guardarDatoAdministrativo", "Expediente")',
                        data: {
                            Fecha: $("#txtFecha").val(),
                            HoraInicio: $("#txtHoraInicio").val(),
                            Persona: "@Model.PK_PERSONA",
                            TipoDisponibilidad: $("#cmbTipoDisponibilidad").val()
                        },
                        datatype: "json",
                        processData: true,
                        success: function (resultado) {
                            $("#contenedorBotones").show();
                            $("#contenedorEspera").hide();
                            $("#txtModalTitulo").css("color", "green");
                            $("#txtModalTitulo").text("Exito");
                            $("#txtModalContenido").text("Registro de datos administrativos guardado exitósamente");
                            instMensajes.open();
                            $.LoadingOverlay("hide");
                        }, error: function (xhr, ajaxOptions, error) {
                            $("#contenedorBotones").show();
                            $("#contenedorEspera").hide();
                            $("#txtModalTitulo").css("color", "red");
                            $("#txtModalTitulo").text("Error al registrar");
                            $("#txtModalContenido").text("Fallo al comunicarse con el servidor");
                            instMensajes.open();
                            $.LoadingOverlay("hide");

                        }
                    });
                }
            }else{
                $("#contenedorBotones").show();
                $("#contenedorEspera").hide();
                $("#txtModalTitulo").css("color", "red");
                $("#txtModalTitulo").text("No hay usuaria creada");
                $("#txtModalContenido").text("No puede guardar Datos administrativos, sin haber guardado la usuaria primero");
                instMensajes.open();
                $.LoadingOverlay("hide");
            }

        });

        $("#btnHistorial").clik(function () {
            $.LoadingOverlay("show");
            $.ajax({
                type: "POST",
                url: '@Url.Action("ConsultaPersona", "Expediente")',
                async: true
            }).done(function (data) {

                $.LoadingOverlay("hide");
                $('#contendorFrames').html(data);
                $("#contenedorEspera").hide();
                $('#contendorFrames').fadeIn();


            }).fail(function (exception) {
                $("#txtModalTitulo").css("color", "red");
                $("#txtModalTitulo").text("Error de Sistema");
                $("#txtModalContenido").text("Fallo al cargar la pantalla, contacte a la persona administradora de SIPAMU");
                $("#contenedorEspera").hide();
                instMensajes.open();
                $.LoadingOverlay("hide");
            });
        });
        @*
        $("#btnCrearCaso").click(function () {
            $.ajax({
                type: "POST",
                url: '@Url.Action("CrearNuevoCaso", "Expediente")',
                data: {
                    id: "@Model.PK_PERSONA"
                },
                //datatype: "json",
                //contentType: "application/json",
                async: true,
                processData: true,
                success: function (resultado) {
                    $("#contenedorBotones").show();
                    $("#contenedorEspera").hide();
                    $("#txtModalTitulo").css("color", "green");
                    $("#txtModalTitulo").text("Exito");
                    $("#txtModalContenido").text("CREAR CASO");
                    instMensajes.open();
                    $.LoadingOverlay("hide");
                }, error: function (xhr, ajaxOptions, error) {
                    $("#contenedorBotones").show();
                    $("#contenedorEspera").hide();
                    $("#txtModalTitulo").css("color", "red");
                    $("#txtModalTitulo").text("Error al registrar");
                    $("#txtModalContenido").text("Fallo al comunicarse con el servidor");
                    instMensajes.open();
                    $.LoadingOverlay("hide");

                }
            })
        });
        $("#btnCerrarCaso").click(function () {
            $.ajax({
                type: "POST",
                url: '@Url.Action("CerrarCaso", "Expediente")',
                data: {
                    id: "@Model.PK_PERSONA"
                },
                datatype: "json",
                //contentType: "application/json",
                async: true,
                processData: true,
                success: function (resultado) {
                    $("#contenedorBotones").show();
                    $("#contenedorEspera").hide();
                    $("#txtModalTitulo").css("color", "green");
                    $("#txtModalTitulo").text("Exito");
                    $("#txtModalContenido").text("CERRAR CASO");
                    instMensajes.open();
                    $.LoadingOverlay("hide");
                }, error: function (xhr, ajaxOptions, error) {
                    $("#contenedorBotones").show();
                    $("#contenedorEspera").hide();
                    $("#txtModalTitulo").css("color", "red");
                    $("#txtModalTitulo").text("Error al registrar");
                    $("#txtModalContenido").text("Fallo al comunicarse con el servidor");
                    instMensajes.open();
                    $.LoadingOverlay("hide");

                }
            })
        });*@
        $("#botones_perfil button").click(function (e) {
            $("#botones_perfil button").removeClass("selected2");
            $(this).addClass("selected2");
            e.preventDefault();
        });
    }

</script>
<style>
    .pad {
        padding-bottom: 3px;
        margin-bottom: 3px;
    }

    .parsley-required {
        color: red;
        font-weight: bold;
    }

    .checkNoSpace {
        padding-left: 0px !important;
    }

    ::-webkit-input-placeholder { /* WebKit, Blink, Edge */
        color: white;
    }

    :-moz-placeholder { /* Mozilla Firefox 4 to 18 */
        color: white;
        opacity: 1;
    }

    ::-moz-placeholder { /* Mozilla Firefox 19+ */
        color: white;
        opacity: 1;
    }

    :-ms-input-placeholder { /* Internet Explorer 10-11 */
        color: white;
    }
</style>

<style>
    input, select, textarea {
        max-width: 100%;
        padding: 4px;
    }

    input {
        background-color: blue;
    }
    .selected2 {
        margin-bottom:5px;
        margin-top:5px;
        display: block;
        width: 100%;
        color: white;
        background-color: #1d4c99;
        border-color: #1d4c99;
        font-weight:600;
        font-size:large;
    }
</style>
<div class="container-fluid" id="contenedorPrincipal" style="background-color: whitesmoke;border: 1px solid #E3E3E3;border-radius: 4px;">
    @*<div class="col-md-2 form-group"></div>*@
    <div class="col-md-12 form-group">
        @if (Model.PK_PERSONA != 0)
        {
            <div class="col-md-12">
                <h3>Editar usuaria</h3>
            </div>
            <div class="col-md-12">
                <h3>Expediente de @Model.VC_NOMBRE @Model.VC_APELLIDO1 @Model.VC_APELLIDO2</h3>
                <h5>Identificación: @Model.VC_IDENTIFICACION <br /> Número de expediente: @Model.PK_PERSONA</h5>
            </div>
        }
        else
        {
            <h3>Crear usuaria</h3>
        }
    </div>
    
        <div class="col-md-2 form-group" id="botones_perfil">
            <button type="button" id="btnExpediente" class="btn btn-default btn-responsive selected2" style="margin-bottom:5px; margin-top:5px; display: block; width: 100%; color: white; background-color: #368DE9; border-color: #368DE9;" >Expediente</button>
            <button type="button" id="btnReferencias" class="btn btn-default btn-responsive" style="margin-bottom:5px; display: block; width: 100%; color: white; background-color: #368DE9; border-color: #368DE9;">Referencias</button>
            <button type="button" id="btnHistorial" class="btn btn-default btn-responsive" style="margin-bottom:5px; display: block; width: 100%; color: white; background-color: #368DE9; border-color: #368DE9;">Historiales</button>

          </div>

        <div class="col-md-10 form-group">
                <ul class="nav nav-tabs">
                    <li class="active">
                        <a data-toggle="tab" href="#datAdministrativos">
                            <i class="fa fa-file-text" aria-hidden="true"></i>Datos Administrativos
                        </a>
                    </li>
                    <li>
                        <a data-toggle="tab" href="#datUsuaria">
                            <i class="fa fa-address-card" aria-hidden="true"></i>Datos Usuaria
                        </a>
                    </li>
                    <li>
                        <a data-toggle="tab" href="#valoracion">
                            <i class="fa fa-pencil-square-o" aria-hidden="true"></i>Valoración
                        </a>
                    </li>
                    <li>
                        <a data-toggle="tab" href="#atencion">
                            <i class="fa fa-hand-paper-o" aria-hidden="true"></i>Atención
                        </a>
                    </li>
                </ul>

                <div class="tab-content">
                    @Html.Action("DatosAdministrativosCoavif", "Expediente")

                    @Html.Action("DatosUsuariaCoavif", "Expediente")
                    
                    <div id="valoracion" class="tab-pane">
                        <div class="row comunForm">

                            <div class="row">
                                <div class="col-md-4 form-group">
                                    <label>Nombre de Persona Usuaria</label>

                                    <input class="form-control" placeholder="Nombre" id="txtNombre3" type="date">
                                </div>

                            </div>

                        </div>
                    </div>
                    @Html.Action("AtencionCoavif", "Expediente")
                </div>



        </div>
</div>


